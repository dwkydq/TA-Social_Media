{% extends 'base.html' %}

{% block content %}
<div class="p-6">
    <div class="mb-6 border-b border-gray-700 pb-4">
        <h2 class="text-2xl font-black text-white">
            {% if query %}
                Hasil pencarian untuk "<span class="text-xyz-yellow">{{ query }}</span>"
            {% else %}
                Cari Sesuatu
            {% endif %}
        </h2>
    </div>

    <div class="space-y-4">
        {% if users %}
            {% for user in users %}
            <div class="bg-xyz-gray border-2 border-black p-4 flex items-center justify-between shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-1 transition">
                
                <div class="flex items-center gap-4">
                    <img src="{{ url_for('static', filename='uploads/' + user.profile_pic) if user.profile_pic else url_for('static', filename='uploads/default.jpg') }}" 
                         class="w-12 h-12 rounded-full border-2 border-white object-cover">
                    <div>
                        <a href="{{ url_for('user.profile', username=user.username) }}" class="font-bold text-white text-lg hover:underline">
                            {{ user.name }}
                        </a>
                        <p class="text-gray-500 text-sm">@{{ user.username }}</p>
                        {% if user.bio %}
                            <p class="text-gray-400 text-xs mt-1 truncate max-w-xs">{{ user.bio }}</p>
                        {% endif %}
                    </div>
                </div>

                <div>
                    {% if current_user.id != user.id %}
                        <a href="{{ url_for('user.profile', username=user.username) }}" class="bg-white text-black font-bold py-1 px-4 border-2 border-black text-sm hover:bg-xyz-yellow transition">
                            Lihat
                        </a>
                    {% else %}
                        <span class="text-gray-500 text-sm font-bold italic">Itu Kamu</span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        
        {% elif query %}
            <div class="text-center py-10">
                <i class="fas fa-ghost text-4xl text-gray-600 mb-3"></i>
                <p class="text-gray-500 font-bold">Tidak ditemukan pengguna dengan nama tersebut.</p>
            </div>
        {% else %}
            <div class="text-center py-10 opacity-50">
                <i class="fas fa-search text-4xl text-gray-600 mb-3"></i>
                <p class="text-gray-500">Ketik nama atau username di kotak pencarian.</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}